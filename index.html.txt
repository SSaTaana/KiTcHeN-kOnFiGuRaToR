
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Конфигуратор мебельной фурнитуры</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/babel-standalone@6.26.0/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/vfs_fonts.js"></script>
  <style>
    body {
      background: linear-gradient(135deg, #1a1a1a, #000000);
      min-height: 100vh;
      font-family: 'Arial', sans-serif;
      color: #ffffff;
      position: relative;
      overflow-x: hidden;
    }
    .container-overlay {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 1.5rem;
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      max-width: 80rem;
      width: 100%;
      margin: 0 auto;
    }
    .edge-animation {
      position: fixed;
      top: 0;
      bottom: 0;
      width: 50px;
      background: linear-gradient(90deg, rgba(79, 70, 229, 0.2), transparent);
      animation: edgeGlow 3s ease-in-out infinite;
      pointer-events: none;
    }
    .edge-animation.left {
      left: 0;
    }
    .edge-animation.right {
      right: 0;
      background: linear-gradient(270deg, rgba(79, 70, 229, 0.2), transparent);
    }
    @keyframes edgeGlow {
      0% { opacity: 0.3; transform: translateY(-10%); }
      50% { opacity: 0.8; transform: translateY(10%); }
      100% { opacity: 0.3; transform: translateY(-10%); }
    }
    @media (max-width: 640px) {
      .container-overlay {
        padding: 1rem;
        margin: 0 0.5rem;
      }
      h1 {
        font-size: 1.75rem;
      }
      h2 {
        font-size: 1.25rem;
      }
      .grid-cols-3 {
        grid-template-columns: 1fr;
      }
      .edge-animation {
        width: 20px;
      }
    }
  </style>
</head>
<body className="flex flex-col items-center justify-center min-h-screen p-4">
  <div className="edge-animation left"></div>
  <div className="edge-animation right"></div>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    const App = () => {
      const [type, setType] = useState('');
      const [mechanism, setMechanism] = useState('');
      const [specificOption, setSpecificOption] = useState('');
      const [brand, setBrand] = useState('');
      const [results, setResults] = useState([]);
      const [savedResults, setSavedResults] = useState([]);
      const [error, setError] = useState('');

      const fittingsDatabase = [
        { id: 1, name: "Петля угловая стандартная", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Стандартная", brand: "Blum", price: 500, description: "Надёжная угловая петля для шкафов.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 2, name: "Петля накладная с доводчиком", type: "Петля", subtype: "Накладная", mechanism: "С доводчиком", specificOption: "С доводчиком", brand: "Hettich", price: 800, description: "Накладная петля с плавным закрыванием.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 3, name: "Петля врезная push-to-open", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Push-to-open", brand: "Hafele", price: 1200, description: "Врезная петля с push-механизмом.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 4, name: "Направляющая шариковая стандартная", type: "Направляющая", subtype: "Шариковая", mechanism: "Без доводчика", specificOption: "Стандартная", brand: "Blum", price: 1500, description: "Шариковая направляющая для ящиков.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 5, name: "Направляющая роликовая с доводчиком", type: "Направляющая", subtype: "Роликовая", mechanism: "С доводчиком", specificOption: "С доводчиком", brand: "Hettich", price: 1800, description: "Роликовая направляющая с плавным ходом.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 6, name: "Направляющая скрытого монтажа push-to-open", type: "Направляющая", subtype: "Скрытого монтажа", mechanism: "Push-to-open", specificOption: "Push-to-open", brand: "Hafele", price: 2000, description: "Скрытая направляющая для ящиков.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 7, name: "Ручка круглая классическая", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Классическая", brand: "Blum", price: 300, description: "Классическая круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 8, name: "Ручка длинная современная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "Hettich", price: 400, description: "Современная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 9, name: "Ручка квадратная push-to-open", type: "Ручка", subtype: "Квадратная", mechanism: "Push-to-open", specificOption: "Скоба", brand: "Hafele", price: 600, description: "Квадратная ручка-скоба с push-механизмом.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 10, name: "Крепление угловое базовое", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Базовое", brand: "Hafele", price: 400, description: "Базовое угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 11, name: "Крепление скрытое регулируемое", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Grass", price: 500, description: "Регулируемое скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 12, name: "Петля угловая усиленная", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Усиленная", brand: "Grass", price: 600, description: "Усиленная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 13, name: "Петля накладная премиум", type: "Петля", subtype: "Накладная", mechanism: "С доводчиком", specificOption: "С доводчиком", brand: "FGV", price: 850, description: "Премиум накладная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 14, name: "Направляющая роликовая лёгкая", type: "Направляющая", subtype: "Роликовая", mechanism: "Без доводчика", specificOption: "Лёгкая", brand: "FGV", price: 1200, description: "Лёгкая роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 15, name: "Направляющая шариковая усиленная", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Blum", price: 2200, description: "Усиленная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 16, name: "Ручка круглая винтажная", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Винтажная", brand: "Hettich", price: 500, description: "Винтажная круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 17, name: "Ручка длинная хромированная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "Hafele", price: 450, description: "Хромированная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 18, name: "Крепление угловое регулируемое", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Grass", price: 600, description: "Регулируемое угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 19, name: "Петля декоративная угловая", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Декоративная", brand: "Blum", price: 850, description: "Декоративная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 20, name: "Петля усиленная врезная", type: "Петля", subtype: "Врезная", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Hettich", price: 650, description: "Усиленная врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 21, name: "Направляющая роликовая лёгкая+", type: "Направляющая", subtype: "Роликовая", mechanism: "Без доводчика", specificOption: "Лёгкая", brand: "FGV", price: 1300, description: "Улучшенная лёгкая роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 22, name: "Ручка квадратная эргономичная", type: "Ручка", subtype: "Квадратная", mechanism: "Push-to-open", specificOption: "Скоба", brand: "Blum", price: 700, description: "Эргономичная квадратная ручка-скоба.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 23, name: "Петля скрытая врезная", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Скрытая", brand: "Hettich", price: 1100, description: "Скрытая врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 24, name: "Направляющая шариковая декоративная", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Декоративная", brand: "Hafele", price: 1700, description: "Декоративная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 25, name: "Ручка круглая винтажная+", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Винтажная", brand: "Grass", price: 350, description: "Улучшенная винтажная круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 26, name: "Крепление потолочное регулируемое", type: "Крепление", subtype: "Потолочное", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Hettich", price: 550, description: "Регулируемое потолочное крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 27, name: "Петля двойная угловая", type: "Петля", subtype: "Угловая", mechanism: "С доводчиком", specificOption: "Двойная", brand: "Hafele", price: 950, description: "Двойная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 28, name: "Направляющая роликовая мягкая", type: "Направляющая", subtype: "Роликовая", mechanism: "Push-to-open", specificOption: "Мягкая", brand: "Grass", price: 1900, description: "Мягкая роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 29, name: "Ручка длинная дизайнерская", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "FGV", price: 600, description: "Дизайнерская длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 30, name: "Крепление угловое регулируемое+", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Hafele", price: 700, description: "Улучшенное регулируемое угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 31, name: "Петля мини угловая", type: "Петля", subtype: "Угловая", mechanism: "Push-to-open", specificOption: "Мини", brand: "Grass", price: 550, description: "Мини-угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 32, name: "Направляющая шариковая двойная", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Двойная", brand: "FGV", price: 2300, description: "Двойная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 33, name: "Ручка квадратная хромированная", type: "Ручка", subtype: "Квадратная", mechanism: "Без доводчика", specificOption: "Скоба", brand: "Blum", price: 450, description: "Хромированная квадратная ручка-скоба.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 34, name: "Крепление скрытое улучшенное", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Улучшенное", brand: "FGV", price: 600, description: "Улучшенное скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 35, name: "Петля премиум врезная", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Премиум", brand: "Blum", price: 1300, description: "Премиум-врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 36, name: "Направляющая шариковая усиленная+", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Hettich", price: 2500, description: "Усиленная шариковая направляющая премиум-класса.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 37, name: "Ручка овальная дизайнерская", type: "Ручка", subtype: "Овальная", mechanism: "Без доводчика", specificOption: "Дизайнерская", brand: "Hafele", price: 800, description: "Дизайнерская овальная ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 38, name: "Крепление универсальное регулируемое", type: "Крепление", subtype: "Универсальное", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Blum", price: 750, description: "Регулируемое универсальное крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 39, name: "Петля угловая компактная", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Компактная", brand: "Hettich", price: 520, description: "Компактная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 40, name: "Направляющая скрытого монтажа лёгкая", type: "Направляющая", subtype: "Скрытого монтажа", mechanism: "Push-to-open", specificOption: "Лёгкая", brand: "Grass", price: 1750, description: "Лёгкая скрытая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 41, name: "Ручка длинная минималистичная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "FGV", price: 550, description: "Минималистичная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 42, name: "Крепление угловое усиленное", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Усиленное", brand: "Blum", price: 650, description: "Усиленное угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 43, name: "Петля врезная стандартная", type: "Петля", subtype: "Врезная", mechanism: "С доводчиком", specificOption: "Стандартная", brand: "Hafele", price: 900, description: "Стандартная врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 44, name: "Направляющая роликовая усиленная", type: "Направляющая", subtype: "Роликовая", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Blum", price: 2000, description: "Усиленная роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 45, name: "Ручка круглая современная", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Современная", brand: "Hettich", price: 400, description: "Современная круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 46, name: "Крепление скрытое компактное", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Компактное", brand: "Grass", price: 450, description: "Компактное скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 47, name: "Петля угловая декоративная+", type: "Петля", subtype: "Угловая", mechanism: "Push-to-open", specificOption: "Декоративная", brand: "FGV", price: 1000, description: "Улучшенная декоративная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 48, name: "Направляющая шариковая компактная", type: "Направляющая", subtype: "Шариковая", mechanism: "Без доводчика", specificOption: "Компактная", brand: "Blum", price: 1600, description: "Компактная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 49, name: "Ручка овальная винтажная", type: "Ручка", subtype: "Овальная", mechanism: "Без доводчика", specificOption: "Винтажная", brand: "Hafele", price: 600, description: "Винтажная овальная ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 50, name: "Крепление угловое стандартное", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Стандартное", brand: "Hettich", price: 500, description: "Стандартное угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 51, name: "Петля врезная премиум+", type: "Петля", subtype: "Врезная", mechanism: "С доводчиком", specificOption: "Премиум", brand: "Grass", price: 1400, description: "Улучшенная премиум-врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 52, name: "Направляющая скрытого монтажа усиленная", type: "Направляющая", subtype: "Скрытого монтажа", mechanism: "Push-to-open", specificOption: "Усиленная", brand: "FGV", price: 2100, description: "Усиленная скрытая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 53, name: "Ручка длинная эргономичная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "Blum", price: 650, description: "Эргономичная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 54, name: "Крепление потолочное компактное", type: "Крепление", subtype: "Потолочное", mechanism: "Без доводчика", specificOption: "Компактное", brand: "Hafele", price: 480, description: "Компактное потолочное крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 55, name: "Петля угловая стандартная+", type: "Петля", subtype: "Угловая", mechanism: "С доводчиком", specificOption: "Стандартная", brand: "Hettich", price: 720, description: "Улучшенная стандартная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 56, name: "Направляющая роликовая декоративная+", type: "Направляющая", subtype: "Роликовая", mechanism: "С доводчиком", specificOption: "Декоративная", brand: "Grass", price: 1850, description: "Улучшенная декоративная роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 57, name: "Ручка квадратная минималистичная", type: "Ручка", subtype: "Квадратная", mechanism: "Push-to-open", specificOption: "Скоба", brand: "FGV", price: 700, description: "Минималистичная квадратная ручка-скоба.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 58, name: "Крепление скрытое стандартное", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Стандартное", brand: "Blum", price: 520, description: "Стандартное скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 59, name: "Петля накладная компактная", type: "Петля", subtype: "Накладная", mechanism: "Без доводчика", specificOption: "Компактная", brand: "Hafele", price: 600, description: "Компактная накладная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 60, name: "Направляющая шариковая лёгкая", type: "Направляющая", subtype: "Шариковая", mechanism: "Без доводчика", specificOption: "Лёгкая", brand: "Hettich", price: 1400, description: "Лёгкая шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 61, name: "Ручка овальная современная", type: "Ручка", subtype: "Овальная", mechanism: "Без доводчика", specificOption: "Современная", brand: "Grass", price: 550, description: "Современная овальная ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 62, name: "Крепление угловое декоративное", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Декоративное", brand: "FGV", price: 580, description: "Декоративное угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 63, name: "Петля врезная декоративная", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Декоративная", brand: "Blum", price: 1100, description: "Декоративная врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 64, name: "Направляющая скрытого монтажа декоративная", type: "Направляющая", subtype: "Скрытого монтажа", mechanism: "С доводчиком", specificOption: "Декоративная", brand: "Hafele", price: 1900, description: "Декоративная скрытая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 65, name: "Ручка длинная винтажная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "Hettich", price: 620, description: "Винтажная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 66, name: "Крепление потолочное усиленное", type: "Крепление", subtype: "Потолочное", mechanism: "Без доводчика", specificOption: "Усиленное", brand: "Grass", price: 700, description: "Усиленное потолочное крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 67, name: "Петля угловая премиум+", type: "Петля", subtype: "Угловая", mechanism: "С доводчиком", specificOption: "Премиум", brand: "FGV", price: 1250, description: "Улучшенная премиум-угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 68, name: "Направляющая роликовая компактная", type: "Направляющая", subtype: "Роликовая", mechanism: "Без доводчика", specificOption: "Компактная", brand: "Blum", price: 1550, description: "Компактная роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 69, name: "Ручка квадратная дизайнерская", type: "Ручка", subtype: "Квадратная", mechanism: "Push-to-open", specificOption: "Скоба", brand: "Hafele", price: 750, description: "Дизайнерская квадратная ручка-скоба.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 70, name: "Крепление скрытое декоративное", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Декоративное", brand: "Hettich", price: 560, description: "Декоративное скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 71, name: "Петля накладная усиленная", type: "Петля", subtype: "Накладная", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Grass", price: 950, description: "Усиленная накладная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 72, name: "Направляющая шариковая декоративная+", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Декоративная", brand: "FGV", price: 2000, description: "Улучшенная декоративная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 73, name: "Ручка овальная минималистичная", type: "Ручка", subtype: "Овальная", mechanism: "Без доводчика", specificOption: "Минималистичная", brand: "Blum", price: 580, description: "Минималистичная овальная ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 74, name: "Крепление угловое компактное", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Компактное", brand: "Hafele", price: 490, description: "Компактное угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 75, name: "Петля врезная компактная", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Компактная", brand: "Hettich", price: 880, description: "Компактная врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" }
      ];

      const specificOptions = {
        "Петля": ["Стандартная", "С доводчиком", "Push-to-open", "Усиленная", "Декоративная"],
        "Направляющая": ["Стандартная", "С доводчиком", "Push-to-open", "Усиленная", "Декоративная"],
        "Ручка": ["Классическая", "Рейлинг", "Скоба", "Винтажная", "Современная"],
        "Крепление": ["Базовое", "Регулируемое", "Усиленное", "Компактное", "Декоративное"]
      };

      const findBestOptions = () => {
        const filteredFittings = fittingsDatabase.filter(fitting => {
          const typeMatch = type ? fitting.type === type : true;
          const mechanismMatch = mechanism ? fitting.mechanism === mechanism : true;
          const specificOptionMatch = specificOption ? fitting.specificOption === specificOption : true;
          const brandMatch = brand ? fitting.brand === brand : true;

          return typeMatch && mechanismMatch && specificOptionMatch && brandMatch;
        });

        if (filteredFittings.length === 0) {
          setError('Точного совпадения не найдено. Показываем ближайший вариант.');
          const fallback = type ? fittingsDatabase.find(f => f.type === type) : fittingsDatabase[0];
          setResults([fallback]);
        } else {
          setError('');
          setResults(filteredFittings);
        }
      };

      const saveToPDF = (allResults = false) => {
        const content = allResults ? [...results, ...savedResults] : results;
        const docDefinition = {
          content: [
            { text: allResults ? 'Полный список фурнитуры' : 'Результаты подбора фурнитуры', style: 'header' },
            ...content.map(fitting => ({
              text: [
                `Название: ${fitting.name}\n`,
                `Тип: ${fitting.type} (${fitting.subtype})\n`,
                `Механизм: ${fitting.mechanism}\n`,
                `Опция: ${fitting.specificOption}\n`,
                `Бренд: ${fitting.brand}\n`,
                `Цена: ${fitting.price} руб.\n`,
                `Описание: ${fitting.description}\n\n`
              ]
            }))
          ],
          styles: {
            header: { fontSize: 18, bold: true, margin: [0, 0, 0, 10], color: '#000000' }
          }
        };
        pdfMake.createPdf(docDefinition).download(`fittings_results_${allResults ? 'all' : 'selected'}.pdf`);
      };

      const saveResult = (fitting) => {
        setSavedResults([...savedResults, fitting]);
      };

      return (
        <div className="container-overlay">
          <h1 className="text-4xl font-bold text-center mb-8 bg-gradient-to-r from-indigo-400 to-purple-600 bg-clip-text text-transparent">Конфигуратор мебельной фурнитуры</h1>

          <div className="flex flex-col md:flex-row justify-center items-center gap-6 mb-8">
            <div className="w-full md:w-1/3">
              <label className="block text-sm font-medium text-gray-200">Тип фурнитуры</label>
              <select
                value={type}
                onChange={(e) => { setType(e.target.value); setSpecificOption(''); }}
                className="mt-2 block w-full rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200"
              >
                <option value="">Выберите тип</option>
                {[...new Set(fittingsDatabase.map(f => f.type))].map(t => (
                  <option key={t} value={t}>{t}</option>
                ))}
              </select>
            </div>
            <div className="w-full md:w-1/3">
              <label className="block text-sm font-medium text-gray-200">Механизм</label>
              <select
                value={mechanism}
                onChange={(e) => setMechanism(e.target.value)}
                className="mt-2 block w-full rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200"
              >
                <option value="">Выберите механизм</option>
                {[...new Set(fittingsDatabase.map(f => f.mechanism))].map(m => (
                  <option key={m} value={m}>{m}</option>
                ))}
              </select>
            </div>
            <div className="w-full md:w-1/3">
              <label className="block text-sm font-medium text-gray-200">Бренд</label>
              <select
                value={brand}
                onChange={(e) => setBrand(e.target.value)}
                className="mt-2 block w-full rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200"
              >
                <option value="">Выберите бренд</option>
                {[...new Set(fittingsDatabase.map(f => f.brand))].map(b => (
                  <option key={b} value={b}>{b}</option>
                ))}
              </select>
            </div>
          </div>

          {type && (
            <div className="mb-8 text-center">
              <label className="block text-sm font-medium text-gray-200">Дополнительные опции для {type}</label>
              <select
                value={specificOption}
                onChange={(e) => setSpecificOption(e.target.value)}
                className="mt-2 block w-full md:w-1/3 mx-auto rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200"
              >
                <option value="">Выберите опцию</option>
                {specificOptions[type].map(option => (
                  <option key={option} value={option}>{option}</option>
                ))}
              </select>
            </div>
          )}

          {error && <p className="text-red-400 text-center mb-4">{error}</p>}

          <div className="flex justify-center mb-8">
            <button
              onClick={findBestOptions}
              className="bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105 w-full md:w-auto"
            >
              Найти варианты
            </button>
          </div>

          {results.length > 0 && (
            <div>
              <h2 className="text-3xl font-semibold text-white mb-6 text-center bg-gradient-to-r from-indigo-400 to-purple-600 bg-clip-text">Подходящие варианты:</h2>
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {results.map(fitting => (
                  <div
                    key={fitting.id}
                    className="bg-gray-900 rounded-xl shadow-xl p-4 hover:bg-gray-800 hover:shadow-2xl transition-all duration-300 transform hover:scale-105"
                  >
                    <img
                      src={fitting.image}
                      alt={fitting.name}
                      className="w-full h-40 object-cover rounded-lg mb-4"
                    />
                    <h3 className="text-xl font-semibold text-white">{fitting.name}</h3>
                    <p className="text-gray-300">Тип: {fitting.type} ({fitting.subtype})</p>
                    <p className="text-gray-300">Механизм: {fitting.mechanism}</p>
                    <p className="text-gray-300">Опция: {fitting.specificOption}</p>
                    <p className="text-gray-300">Бренд: {fitting.brand}</p>
                    <p className="text-purple-500 font-bold mt-2">Цена: {fitting.price} руб.</p>
                    <p className="text-gray-400 mt-2">{fitting.description}</p>
                    <button
                      onClick={() => saveResult(fitting)}
                      className="mt-4 w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-md hover:from-blue-700 hover:to-blue-800 transition duration-200"
                    >
                      Сохранить
                    </button>
                    <p className="text-xs text-gray-500 mt-2">*Данная цена может варьироваться в зависимости от выбора продавца или поставщика</p>
                  </div>
                ))}
              </div>
              <div className="flex flex-col md:flex-row justify-center mt-8 gap-4">
                <button
                  onClick={() => saveToPDF(false)}
                  className="bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105 w-full md:w-auto"
                >
                  Экспорт выбранных в PDF
                </button>
                <button
                  onClick={() => saveToPDF(true)}
                  className="bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105 w-full md:w-auto mt-4 md:mt-0"
                >
                  Экспорт всего списка в PDF
                </button>
              </div>
            </div>
          )}

          {savedResults.length > 0 && (
            <div className="mt-10">
              <h2 className="text-3xl font-semibold text-white mb-6 text-center bg-gradient-to-r from-indigo-400 to-purple-600 bg-clip-text">Сохранённые варианты:</h2>
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {savedResults.map(fitting => (
                  <div
                    key={fitting.id}
                    className="bg-gray-700 rounded-xl shadow-md p-4 hover:bg-gray-600 transition duration-300"
                  >
                    <h3 className="text-xl font-semibold text-white">{fitting.name}</h3>
                    <p className="text-gray-300">Цена: {fitting.price} руб.</p>
                    <p className="text-gray-300">Бренд: {fitting.brand}</p>
                  </div>
                ))}
              </div>
            </div>
          )}
        </div>
      );
    };

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
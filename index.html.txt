<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Конфигуратор мебельной фурнитуры</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/babel-standalone@6.26.0/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/vfs_fonts.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/i18next@23.11.5/dist/umd/i18next.min.js"></script>
  <style>
    body {
      background: linear-gradient(135deg, #1a1a1a, #000000);
      min-height: 100vh;
      font-family: 'Arial', sans-serif;
      color: #ffffff;
      position: relative;
      overflow-x: hidden;
    }
    .container-overlay, .welcome-container {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 1.5rem;
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      max-width: 80rem;
      width: 100%;
      margin: 2rem auto;
    }
    .welcome-container {
      max-width: 40rem;
      text-align: center;
      animation: fadeIn 1s ease-in-out;
    }
    .edge-animation {
      position: fixed;
      top: 0;
      bottom: 0;
      width: 50px;
      background: linear-gradient(90deg, rgba(79, 70, 229, 0.2), transparent);
      animation: edgeGlow 3s ease-in-out infinite;
      pointer-events: none;
    }
    .edge-animation.left {
      left: 0;
    }
    .edge-animation.right {
      right: 0;
      background: linear-gradient(270deg, rgba(79, 70, 229, 0.2), transparent);
    }
    .navbar {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
      padding: 1rem 0;
      z-index: 10;
    }
    .tooltip {
      position: relative;
    }
    .tooltip .tooltip-text {
      visibility: hidden;
      width: 200px;
      background-color: rgba(0, 0, 0, 0.9);
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
    }
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
    @keyframes edgeGlow {
      0% { opacity: 0.3; transform: translateY(-10%); }
      50% { opacity: 0.8; transform: translateY(10%); }
      100% { opacity: 0.3; transform: translateY(-10%); }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @media (max-width: 640px) {
      .container-overlay, .welcome-container {
        padding: 1rem;
        margin: 4rem 0.5rem;
      }
      h1 {
        font-size: 1.75rem;
      }
      h2 {
        font-size: 1.25rem;
      }
      .grid-cols-3 {
        grid-template-columns: 1fr;
      }
      .edge-animation {
        width: 20px;
      }
      .navbar {
        padding: 0.5rem 0;
      }
      .navbar a {
        font-size: 0.9rem;
        padding: 0.5rem;
      }
    }
  </style>
</head>
<body className="flex flex-col min-h-screen p-4">
  <div className="edge-animation left"></div>
  <div className="edge-animation right"></div>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Инициализация i18next
    i18next.init({
      lng: 'ru',
      resources: {
        ru: {
          translation: {
            "welcome_title": "Добро пожаловать!",
            "welcome_text": "На нашем сайте вы можете подобрать идеальную мебельную фурнитуру с помощью удобного конфигуратора.",
            "go_to_configurator": "Перейти в конфигуратор",
            "configurator_title": "Конфигуратор мебельной фурнитуры",
            "type_label": "Тип фурнитуры",
            "type_placeholder": "Выберите тип",
            "brand_label": "Бренд",
            "brand_placeholder": "Выберите бренд",
            "specific_option_label": "Дополнительные опции для",
            "specific_option_placeholder": "Выберите опцию",
            "price_range_from": "Цена от (руб.)",
            "price_range_to": "Цена до (руб.)",
            "find_options": "Найти варианты",
            "results_title": "Подходящие варианты:",
            "save": "Сохранить",
            "compare": "Сравнить",
            "saved_results_title": "Сохранённые варианты:",
            "export_selected_pdf": "Экспорт выбранных в PDF",
            "export_all_pdf": "Экспорт всего списка в PDF",
            "no_match": "Точного совпадения не найдено. Показываем ближайший вариант.",
            "price_disclaimer": "*Данная цена может варьироваться в зависимости от выбора продавца или поставщика",
            "compare_title": "Сравнение товаров",
            "name": "Название",
            "type": "Тип",
            "subtype": "Подтип",
            "option": "Опция",
            "brand": "Бренд",
            "price": "Цена (руб.)",
            "description": "Описание",
            "close": "Закрыть",
            "type_tooltip": "Выберите тип фурнитуры, например, петли, ручки или направляющие.",
            "specific_option_tooltip": "Уточните дополнительные характеристики, например, наличие доводчика.",
            "brand_tooltip": "Выберите производителя фурнитуры.",
            "nav_home": "Главная",
            "nav_configurator": "Конфигуратор",
            "lang_ru": "Русский",
            "lang_en": "English"
          }
        },
        en: {
          translation: {
            "welcome_title": "Welcome!",
            "welcome_text": "On our website, you can find the perfect furniture fittings using our convenient configurator.",
            "go_to_configurator": "Go to Configurator",
            "configurator_title": "Furniture Fittings Configurator",
            "type_label": "Fitting Type",
            "type_placeholder": "Select type",
            "brand_label": "Brand",
            "brand_placeholder": "Select brand",
            "specific_option_label": "Additional options for",
            "specific_option_placeholder": "Select option",
            "price_range_from": "Price from (RUB)",
            "price_range_to": "Price to (RUB)",
            "find_options": "Find Options",
            "results_title": "Matching Options:",
            "save": "Save",
            "compare": "Compare",
            "saved_results_title": "Saved Options:",
            "export_selected_pdf": "Export Selected to PDF",
            "export_all_pdf": "Export Full List to PDF",
            "no_match": "No exact match found. Showing the closest option.",
            "price_disclaimer": "*This price may vary depending on the seller or supplier",
            "compare_title": "Compare Items",
            "name": "Name",
            "type": "Type",
            "subtype": "Subtype",
            "option": "Option",
            "brand": "Brand",
            "price": "Price (RUB)",
            "description": "Description",
            "close": "Close",
            "type_tooltip": "Select the type of fitting, e.g., hinges, handles, or guides.",
            "specific_option_tooltip": "Specify additional features, e.g., with a soft-close mechanism.",
            "brand_tooltip": "Select the manufacturer of the fitting.",
            "nav_home": "Home",
            "nav_configurator": "Configurator",
            "lang_ru": "Русский",
            "lang_en": "English"
          }
        }
      }
    });

    const Navbar = ({ setCurrentPage }) => {
      const changeLanguage = (lng) => {
        i18next.changeLanguage(lng);
        document.querySelectorAll('[data-i18n]').forEach(elem => {
          elem.textContent = i18next.t(elem.getAttribute('data-i18n'));
        });
      };

      return (
        React.createElement('nav', { className: 'navbar flex justify-center gap-6' },
          React.createElement('a', {
            href: '#',
            onClick: () => setCurrentPage('welcome'),
            className: 'text-white hover:text-indigo-400 transition duration-200',
            'data-i18n': 'nav_home'
          }, 'Главная'),
          React.createElement('a', {
            href: '#',
            onClick: () => setCurrentPage('configurator'),
            className: 'text-white hover:text-indigo-400 transition duration-200',
            'data-i18n': 'nav_configurator'
          }, 'Конфигуратор'),
          React.createElement('div', { className: 'absolute right-4 flex gap-2' },
            React.createElement('button', {
              onClick: () => changeLanguage('ru'),
              className: 'text-white hover:text-indigo-400 transition duration-200',
              'data-i18n': 'lang_ru'
            }, 'Русский'),
            React.createElement('button', {
              onClick: () => changeLanguage('en'),
              className: 'text-white hover:text-indigo-400 transition duration-200',
              'data-i18n': 'lang_en'
            }, 'English')
          )
        )
      );
    };

    const WelcomePage = ({ onNavigate }) => {
      return (
        React.createElement('div', { className: 'welcome-container' },
          React.createElement('h1', {
            className: 'text-4xl font-bold mb-6 bg-gradient-to-r from-indigo-400 to-purple-600 bg-clip-text text-transparent',
            'data-i18n': 'welcome_title'
          }, 'Добро пожаловать!'),
          React.createElement('p', { className: 'text-gray-300 mb-8', 'data-i18n': 'welcome_text' }, 'На нашем сайте вы можете подобрать идеальную мебельную фурнитуру с помощью удобного конфигуратора.'),
          React.createElement('button', {
            onClick: onNavigate,
            className: 'bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105',
            'data-i18n': 'go_to_configurator'
          }, 'Перейти в конфигуратор')
        )
      );
    };

    const ConfiguratorPage = () => {
      const [type, setType] = useState('');
      const [specificOption, setSpecificOption] = useState('');
      const [brand, setBrand] = useState('');
      const [priceRange, setPriceRange] = useState({ min: '', max: '' });
      const [results, setResults] = useState([]);
      const [savedResults, setSavedResults] = useState([]);
      const [compareItems, setCompareItems] = useState([]);
      const [showCompare, setShowCompare] = useState(false);
      const [error, setError] = useState('');

      const fittingsDatabase = [
        { id: 1, name: "Петля угловая стандартная", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Стандартная", brand: "Blum", price: 500, description: "Надёжная угловая петля для шкафов.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 2, name: "Петля накладная с доводчиком", type: "Петля", subtype: "Накладная", mechanism: "С доводчиком", specificOption: "С доводчиком", brand: "Hettich", price: 800, description: "Накладная петля с плавным закрыванием.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 3, name: "Петля врезная push-to-open", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Push-to-open", brand: "Hafele", price: 1200, description: "Врезная петля с push-механизмом.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 4, name: "Направляющая шариковая стандартная", type: "Направляющая", subtype: "Шариковая", mechanism: "Без доводчика", specificOption: "Стандартная", brand: "Blum", price: 1500, description: "Шариковая направляющая для ящиков.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 5, name: "Направляющая роликовая с доводчиком", type: "Направляющая", subtype: "Роликовая", mechanism: "С доводчиком", specificOption: "С доводчиком", brand: "Hettich", price: 1800, description: "Роликовая направляющая с плавным ходом.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 6, name: "Направляющая скрытого монтажа push-to-open", type: "Направляющая", subtype: "Скрытого монтажа", mechanism: "Push-to-open", specificOption: "Push-to-open", brand: "Hafele", price: 2000, description: "Скрытая направляющая для ящиков.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 7, name: "Ручка круглая классическая", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Классическая", brand: "Blum", price: 300, description: "Классическая круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 8, name: "Ручка длинная современная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "Hettich", price: 400, description: "Современная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 9, name: "Ручка квадратная push-to-open", type: "Ручка", subtype: "Квадратная", mechanism: "Push-to-open", specificOption: "Скоба", brand: "Hafele", price: 600, description: "Квадратная ручка-скоба с push-механизмом.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 10, name: "Крепление угловое базовое", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Базовое", brand: "Hafele", price: 400, description: "Базовое угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 11, name: "Крепление скрытое регулируемое", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Grass", price: 500, description: "Регулируемое скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 12, name: "Петля угловая усиленная", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Усиленная", brand: "Grass", price: 600, description: "Усиленная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 13, name: "Петля накладная премиум", type: "Петля", subtype: "Накладная", mechanism: "С доводчиком", specificOption: "С доводчиком", brand: "FGV", price: 850, description: "Премиум накладная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 14, name: "Направляющая роликовая лёгкая", type: "Направляющая", subtype: "Роликовая", mechanism: "Без доводчика", specificOption: "Лёгкая", brand: "FGV", price: 1200, description: "Лёгкая роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 15, name: "Направляющая шариковая усиленная", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Blum", price: 2200, description: "Усиленная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 16, name: "Ручка круглая винтажная", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Винтажная", brand: "Hettich", price: 500, description: "Винтажная круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 17, name: "Ручка длинная хромированная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "Hafele", price: 450, description: "Хромированная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 18, name: "Крепление угловое регулируемое", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Grass", price: 600, description: "Регулируемое угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 19, name: "Петля декоративная угловая", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Декоративная", brand: "Blum", price: 850, description: "Декоративная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 20, name: "Петля усиленная врезная", type: "Петля", subtype: "Врезная", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Hettich", price: 650, description: "Усиленная врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 21, name: "Направляющая роликовая лёгкая+", type: "Направляющая", subtype: "Роликовая", mechanism: "Без доводчика", specificOption: "Лёгкая", brand: "FGV", price: 1300, description: "Улучшенная лёгкая роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 22, name: "Ручка квадратная эргономичная", type: "Ручка", subtype: "Квадратная", mechanism: "Push-to-open", specificOption: "Скоба", brand: "Blum", price: 700, description: "Эргономичная квадратная ручка-скоба.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 23, name: "Петля скрытая врезная", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Скрытая", brand: "Hettich", price: 1100, description: "Скрытая врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 24, name: "Направляющая шариковая декоративная", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Декоративная", brand: "Hafele", price: 1700, description: "Декоративная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 25, name: "Ручка круглая винтажная+", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Винтажная", brand: "Grass", price: 350, description: "Улучшенная винтажная круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 26, name: "Крепление потолочное регулируемое", type: "Крепление", subtype: "Потолочное", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Hettich", price: 550, description: "Регулируемое потолочное крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 27, name: "Петля двойная угловая", type: "Петля", subtype: "Угловая", mechanism: "С доводчиком", specificOption: "Двойная", brand: "Hafele", price: 950, description: "Двойная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 28, name: "Направляющая роликовая мягкая", type: "Направляющая", subtype: "Роликовая", mechanism: "Push-to-open", specificOption: "Мягкая", brand: "Grass", price: 1900, description: "Мягкая роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 29, name: "Ручка длинная дизайнерская", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "FGV", price: 600, description: "Дизайнерская длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 30, name: "Крепление угловое регулируемое+", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Hafele", price: 700, description: "Улучшенное регулируемое угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 31, name: "Петля мини угловая", type: "Петля", subtype: "Угловая", mechanism: "Push-to-open", specificOption: "Мини", brand: "Grass", price: 550, description: "Мини-угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 32, name: "Направляющая шариковая двойная", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Двойная", brand: "FGV", price: 2300, description: "Двойная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 33, name: "Ручка квадратная хромированная", type: "Ручка", subtype: "Квадратная", mechanism: "Без доводчика", specificOption: "Скоба", brand: "Blum", price: 450, description: "Хромированная квадратная ручка-скоба.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 34, name: "Крепление скрытое улучшенное", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Улучшенное", brand: "FGV", price: 600, description: "Улучшенное скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 35, name: "Петля премиум врезная", type: "Петля", subtype: "Врезная", mechanism: "Push-to-open", specificOption: "Премиум", brand: "Blum", price: 1300, description: "Премиум-врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 36, name: "Направляющая шариковая усиленная+", type: "Направляющая", subtype: "Шариковая", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Hettich", price: 2500, description: "Усиленная шариковая направляющая премиум-класса.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 37, name: "Ручка овальная дизайнерская", type: "Ручка", subtype: "Овальная", mechanism: "Без доводчика", specificOption: "Дизайнерская", brand: "Hafele", price: 800, description: "Дизайнерская овальная ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 38, name: "Крепление универсальное регулируемое", type: "Крепление", subtype: "Универсальное", mechanism: "Без доводчика", specificOption: "Регулируемое", brand: "Blum", price: 750, description: "Регулируемое универсальное крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 39, name: "Петля угловая компактная", type: "Петля", subtype: "Угловая", mechanism: "Без доводчика", specificOption: "Компактная", brand: "Hettich", price: 520, description: "Компактная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 40, name: "Направляющая скрытого монтажа лёгкая", type: "Направляющая", subtype: "Скрытого монтажа", mechanism: "Push-to-open", specificOption: "Лёгкая", brand: "Grass", price: 1750, description: "Лёгкая скрытая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 41, name: "Ручка длинная минималистичная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "FGV", price: 550, description: "Минималистичная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 42, name: "Крепление угловое усиленное", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Усиленное", brand: "Blum", price: 650, description: "Усиленное угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 43, name: "Петля врезная стандартная", type: "Петля", subtype: "Врезная", mechanism: "С доводчиком", specificOption: "Стандартная", brand: "Hafele", price: 900, description: "Стандартная врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 44, name: "Направляющая роликовая усиленная", type: "Направляющая", subtype: "Роликовая", mechanism: "С доводчиком", specificOption: "Усиленная", brand: "Blum", price: 2000, description: "Усиленная роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 45, name: "Ручка круглая современная", type: "Ручка", subtype: "Круглая", mechanism: "Без доводчика", specificOption: "Современная", brand: "Hettich", price: 400, description: "Современная круглая ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 46, name: "Крепление скрытое компактное", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Компактное", brand: "Grass", price: 450, description: "Компактное скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 47, name: "Петля угловая декоративная+", type: "Петля", subtype: "Угловая", mechanism: "Push-to-open", specificOption: "Декоративная", brand: "FGV", price: 1000, description: "Улучшенная декоративная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 48, name: "Направляющая шариковая компактная", type: "Направляющая", subtype: "Шариковая", mechanism: "Без доводчика", specificOption: "Компактная", brand: "Blum", price: 1600, description: "Компактная шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 49, name: "Ручка овальная винтажная", type: "Ручка", subtype: "Овальная", mechanism: "Без доводчика", specificOption: "Винтажная", brand: "Hafele", price: 600, description: "Винтажная овальная ручка.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 50, name: "Крепление угловое стандартное", type: "Крепление", subtype: "Угловое", mechanism: "Без доводчика", specificOption: "Стандартное", brand: "Hettich", price: 500, description: "Стандартное угловое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 51, name: "Петля врезная премиум+", type: "Петля", subtype: "Врезная", mechanism: "С доводчиком", specificOption: "Премиум", brand: "Grass", price: 1400, description: "Улучшенная премиум-врезная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 52, name: "Направляющая скрытого монтажа усиленная", type: "Направляющая", subtype: "Скрытого монтажа", mechanism: "Push-to-open", specificOption: "Усиленная", brand: "FGV", price: 2100, description: "Усиленная скрытая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 53, name: "Ручка длинная эргономичная", type: "Ручка", subtype: "Длинная", mechanism: "Без доводчика", specificOption: "Рейлинг", brand: "Blum", price: 650, description: "Эргономичная длинная ручка-рейлинг.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 54, name: "Крепление потолочное компактное", type: "Крепление", subtype: "Потолочное", mechanism: "Без доводчика", specificOption: "Компактное", brand: "Hafele", price: 480, description: "Компактное потолочное крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 55, name: "Петля угловая стандартная+", type: "Петля", subtype: "Угловая", mechanism: "С доводчиком", specificOption: "Стандартная", brand: "Hettich", price: 720, description: "Улучшенная стандартная угловая петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 56, name: "Направляющая роликовая декоративная+", type: "Направляющая", subtype: "Роликовая", mechanism: "С доводчиком", specificOption: "Декоративная", brand: "Grass", price: 1850, description: "Улучшенная декоративная роликовая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 57, name: "Ручка квадратная минималистичная", type: "Ручка", subtype: "Квадратная", mechanism: "Push-to-open", specificOption: "Скоба", brand: "FGV", price: 700, description: "Минималистичная квадратная ручка-скоба.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 58, name: "Крепление скрытое стандартное", type: "Крепление", subtype: "Скрытое", mechanism: "Без доводчика", specificOption: "Стандартное", brand: "Blum", price: 520, description: "Стандартное скрытое крепление.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 59, name: "Петля накладная компактная", type: "Петля", subtype: "Накладная", mechanism: "Без доводчика", specificOption: "Компактная", brand: "Hafele", price: 600, description: "Компактная накладная петля.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" },
        { id: 60, name: "Направляющая шариковая лёгкая", type: "Направляющая", subtype: "Шариковая", mechanism: "Без доводчика", specificOption: "Лёгкая", brand: "Hettich", price: 1400, description: "Лёгкая шариковая направляющая.", image: "https://via.placeholder.com/300x200/808080?text=Furniture+Part" }
      ];

      const specificOptions = {
        "Петля": ["Стандартная", "С доводчиком", "Push-to-open", "Усиленная", "Декоративная"],
        "Направляющая": ["Стандартная", "С доводчиком", "Push-to-open", "Усиленная", "Декоративная"],
        "Ручка": ["Классическая", "Рейлинг", "Скоба", "Винтажная", "Современная"],
        "Крепление": ["Базовое", "Регулируемое", "Усиленное", "Компактное", "Декоративное"]
      };

      const findBestOptions = () => {
        const filteredFittings = fittingsDatabase.filter(fitting => {
          const typeMatch = type ? fitting.type === type : true;
          const specificOptionMatch = specificOption ? fitting.specificOption === specificOption : true;
          const brandMatch = brand ? fitting.brand === brand : true;
          const priceMinMatch = priceRange.min ? fitting.price >= Number(priceRange.min) : true;
          const priceMaxMatch = priceRange.max ? fitting.price <= Number(priceRange.max) : true;

          return typeMatch && specificOptionMatch && brandMatch && priceMinMatch && priceMaxMatch;
        });

        if (filteredFittings.length === 0) {
          setError(i18next.t('no_match'));
          const fallback = type ? fittingsDatabase.find(f => f.type === type) : fittingsDatabase[0];
          setResults([fallback]);
        } else {
          setError('');
          setResults(filteredFittings);
        }
      };

      const saveToPDF = (allResults = false) => {
        const content = allResults ? [...results, ...savedResults] : results;
        const docDefinition = {
          content: [
            { text: allResults ? i18next.t('export_all_pdf') : i18next.t('export_selected_pdf'), style: 'header' },
            ...content.map(fitting => ({
              text: [
                `${i18next.t('name')}: ${fitting.name}\n`,
                `${i18next.t('type')}: ${fitting.type} (${fitting.subtype})\n`,
                `${i18next.t('option')}: ${fitting.specificOption}\n`,
                `${i18next.t('brand')}: ${fitting.brand}\n`,
                `${i18next.t('price')}: ${fitting.price} руб.\n`,
                `${i18next.t('description')}: ${fitting.description}\n\n`
              ]
            }))
          ],
          styles: {
            header: { fontSize: 18, bold: true, margin: [0, 0, 0, 10], color: '#000000' }
          }
        };
        pdfMake.createPdf(docDefinition).download(`fittings_results_${allResults ? 'all' : 'selected'}.pdf`);
      };

      const saveResult = (fitting) => {
        if (!savedResults.some(item => item.id === fitting.id)) {
          setSavedResults([...savedResults, fitting]);
        }
      };

      const toggleCompare = (fitting) => {
        if (compareItems.some(item => item.id === fitting.id)) {
          setCompareItems(compareItems.filter(item => item.id !== fitting.id));
        } else if (compareItems.length < 3) {
          setCompareItems([...compareItems, fitting]);
        }
      };

      const handlePriceRangeChange = (e) => {
        const { name, value } = e.target;
        setPriceRange(prev => ({ ...prev, [name]: value }));
      };

      return (
        React.createElement('div', { className: 'container-overlay' },
          React.createElement('h1', {
            className: 'text-4xl font-bold text-center mb-8 bg-gradient-to-r from-indigo-400 to-purple-600 bg-clip-text text-transparent',
            'data-i18n': 'configurator_title'
          }, 'Конфигуратор мебельной фурнитуры'),
          React.createElement('div', { className: 'flex flex-col md:flex-row justify-center items-center gap-6 mb-8' },
            React.createElement('div', { className: 'w-full md:w-1/3 tooltip' },
              React.createElement('label', { className: 'block text-sm font-medium text-gray-200', 'data-i18n': 'type_label' }, 'Тип фурнитуры'),
              React.createElement('span', { className: 'tooltip-text', 'data-i18n': 'type_tooltip' }, 'Выберите тип фурнитуры, например, петли, ручки или направляющие.'),
              React.createElement('select', {
                value: type,
                onChange: (e) => { setType(e.target.value); setSpecificOption(''); },
                className: 'mt-2 block w-full rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200'
              },
                React.createElement('option', { value: '', 'data-i18n': 'type_placeholder' }, 'Выберите тип'),
                [...new Set(fittingsDatabase.map(f => f.type))].map(t =>
                  React.createElement('option', { key: t, value: t }, t)
                )
              )
            ),
            React.createElement('div', { className: 'w-full md:w-1/3 tooltip' },
              React.createElement('label', { className: 'block text-sm font-medium text-gray-200', 'data-i18n': 'brand_label' }, 'Бренд'),
              React.createElement('span', { className: 'tooltip-text', 'data-i18n': 'brand_tooltip' }, 'Выберите производителя фурнитуры.'),
              React.createElement('select', {
                value: brand,
                onChange: (e) => setBrand(e.target.value),
                className: 'mt-2 block w-full rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200'
              },
                React.createElement('option', { value: '', 'data-i18n': 'brand_placeholder' }, 'Выберите бренд'),
                [...new Set(fittingsDatabase.map(f => f.brand))].map(b =>
                  React.createElement('option', { key: b, value: b }, b)
                )
              )
            )
          ),
          React.createElement('div', { className: 'flex flex-col md:flex-row justify-center items-center gap-6 mb-8' },
            React.createElement('div', { className: 'w-full md:w-1/3' },
              React.createElement('label', { className: 'block text-sm font-medium text-gray-200', 'data-i18n': 'price_range_from' }, 'Цена от (руб.)'),
              React.createElement('input', {
                type: 'number',
                name: 'min',
                value: priceRange.min,
                onChange: handlePriceRangeChange,
                className: 'mt-2 block w-full rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200',
                placeholder: '300'
              })
            ),
            React.createElement('div', { className: 'w-full md:w-1/3' },
              React.createElement('label', { className: 'block text-sm font-medium text-gray-200', 'data-i18n': 'price_range_to' }, 'Цена до (руб.)'),
              React.createElement('input', {
                type: 'number',
                name: 'max',
                value: priceRange.max,
                onChange: handlePriceRangeChange,
                className: 'mt-2 block w-full rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200',
                placeholder: '1000'
              })
            )
          ),
          type && React.createElement('div', { className: 'mb-8 text-center tooltip' },
            React.createElement('label', { className: 'block text-sm font-medium text-gray-200', 'data-i18n': 'specific_option_label' }, `Дополнительные опции для ${type}`),
            React.createElement('span', { className: 'tooltip-text', 'data-i18n': 'specific_option_tooltip' }, 'Уточните дополнительные характеристики, например, наличие доводчика.'),
            React.createElement('select', {
              value: specificOption,
              onChange: (e) => setSpecificOption(e.target.value),
              className: 'mt-2 block w-full md:w-1/3 mx-auto rounded-md border-gray-700 bg-gray-900 text-white shadow-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3 transition duration-200'
            },
              React.createElement('option', { value: '', 'data-i18n': 'specific_option_placeholder' }, 'Выберите опцию'),
              specificOptions[type].map(option =>
                React.createElement('option', { key: option, value: option }, option)
              )
            )
          ),
          error && React.createElement('p', { className: 'text-red-400 text-center mb-4' }, error),
          React.createElement('div', { className: 'flex justify-center mb-8' },
            React.createElement('button', {
              onClick: findBestOptions,
              className: 'bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105 w-full md:w-auto',
              'data-i18n': 'find_options'
            }, 'Найти варианты')
          ),
          results.length > 0 && React.createElement('div', null,
            React.createElement('h2', {
              className: 'text-3xl font-semibold text-white mb-6 text-center bg-gradient-to-r from-indigo-400 to-purple-600 bg-clip-text',
              'data-i18n': 'results_title'
            }, 'Подходящие варианты:'),
            React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6' },
              results.map(fitting =>
                React.createElement('div', {
                  key: fitting.id,
                  className: 'bg-gray-900 rounded-xl shadow-xl p-4 hover:bg-gray-800 hover:shadow-2xl transition-all duration-300 transform hover:scale-105'
                },
                  React.createElement('img', {
                    src: fitting.image,
                    alt: fitting.name,
                    className: 'w-full h-40 object-cover rounded-lg mb-4'
                  }),
                  React.createElement('h3', { className: 'text-xl font-semibold text-white' }, fitting.name),
                  React.createElement('p', { className: 'text-gray-300', 'data-i18n': 'type' }, `${i18next.t('type')}: ${fitting.type} (${fitting.subtype})`),
                  React.createElement('p', { className: 'text-gray-300', 'data-i18n': 'option' }, `${i18next.t('option')}: ${fitting.specificOption}`),
                  React.createElement('p', { className: 'text-gray-300', 'data-i18n': 'brand' }, `${i18next.t('brand')}: ${fitting.brand}`),
                  React.createElement('p', { className: 'text-purple-500 font-bold mt-2', 'data-i18n': 'price' }, `${i18next.t('price')}: ${fitting.price} руб.`),
                  React.createElement('p', { className: 'text-gray-400 mt-2', 'data-i18n': 'description' }, `${i18next.t('description')}: ${fitting.description}`),
                  React.createElement('div', { className: 'flex gap-2 mt-4' },
                    React.createElement('button', {
                      onClick: () => saveResult(fitting),
                      className: 'w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-md hover:from-blue-700 hover:to-blue-800 transition duration-200',
                      'data-i18n': 'save'
                    }, 'Сохранить'),
                    React.createElement('button', {
                      onClick: () => toggleCompare(fitting),
                      className: `w-full px-4 py-2 rounded-md text-white transition duration-200 ${compareItems.some(item => item.id === fitting.id) ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'}`,
                      'data-i18n': 'compare'
                    }, 'Сравнить')
                  ),
                  React.createElement('p', { className: 'text-xs text-gray-500 mt-2', 'data-i18n': 'price_disclaimer' }, '*Данная цена может варьироваться в зависимости от выбора продавца или поставщика')
                )
              )
            ),
            React.createElement('div', { className: 'flex flex-col md:flex-row justify-center mt-8 gap-4' },
              React.createElement('button', {
                onClick: () => saveToPDF(false),
                className: 'bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105 w-full md:w-auto',
                'data-i18n': 'export_selected_pdf'
              }, 'Экспорт выбранных в PDF'),
              React.createElement('button', {
                onClick: () => saveToPDF(true),
                className: 'bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105 w-full md:w-auto mt-4 md:mt-0',
                'data-i18n': 'export_all_pdf'
              }, 'Экспорт всего списка в PDF')
            )
          ),
          savedResults.length > 0 && React.createElement('div', { className: 'mt-10' },
            React.createElement('h2', {
              className: 'text-3xl font-semibold text-white mb-6 text-center bg-gradient-to-r from-indigo-400 to-purple-600 bg-clip-text',
              'data-i18n': 'saved_results_title'
            }, 'Сохранённые варианты:'),
            React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6' },
              savedResults.map(fitting =>
                React.createElement('div', {
                  key: fitting.id,
                  className: 'bg-gray-700 rounded-xl shadow-md p-4 hover:bg-gray-600 transition duration-300'
                },
                  React.createElement('h3', { className: 'text-xl font-semibold text-white' }, fitting.name),
                  React.createElement('p', { className: 'text-gray-300', 'data-i18n': 'price' }, `${i18next.t('price')}: ${fitting.price} руб.`),
                  React.createElement('p', { className: 'text-gray-300', 'data-i18n': 'brand' }, `${i18next.t('brand')}: ${fitting.brand}`),
                  React.createElement('button', {
                    onClick: () => toggleCompare(fitting),
                    className: `mt-2 w-full px-4 py-2 rounded-md text-white transition duration-200 ${compareItems.some(item => item.id === fitting.id) ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'}`,
                    'data-i18n': 'compare'
                  }, 'Сравнить')
                )
              )
            ),
            compareItems.length > 0 && React.createElement('div', { className: 'flex justify-center mt-4' },
              React.createElement('button', {
                onClick: () => setShowCompare(true),
                className: 'bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105',
                'data-i18n': 'compare_title'
              }, 'Сравнение товаров')
            )
          ),
          showCompare && compareItems.length > 0 && React.createElement('div', { className: 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-20' },
            React.createElement('div', { className: 'bg-gray-900 rounded-xl p-6 max-w-4xl w-full overflow-x-auto' },
              React.createElement('h2', { className: 'text-2xl font-bold text-white mb-4', 'data-i18n': 'compare_title' }, 'Сравнение товаров'),
              React.createElement('table', { className: 'w-full text-left text-gray-300' },
                React.createElement('thead', null,
                  React.createElement('tr', { className: 'border-b border-gray-700' },
                    React.createElement('th', { className: 'p-2', 'data-i18n': 'name' }, 'Название'),
                    React.createElement('th', { className: 'p-2', 'data-i18n': 'type' }, 'Тип'),
                    React.createElement('th', { className: 'p-2', 'data-i18n': 'subtype' }, 'Подтип'),
                    React.createElement('th', { className: 'p-2', 'data-i18n': 'option' }, 'Опция'),
                    React.createElement('th', { className: 'p-2', 'data-i18n': 'brand' }, 'Бренд'),
                    React.createElement('th', { className: 'p-2', 'data-i18n': 'price' }, 'Цена (руб.)')
                  )
                ),
                React.createElement('tbody', null,
                  compareItems.map(item =>
                    React.createElement('tr', { key: item.id, className: 'border-b border-gray-700' },
                      React.createElement('td', { className: 'p-2' }, item.name),
                      React.createElement('td', { className: 'p-2' }, item.type),
                      React.createElement('td', { className: 'p-2' }, item.subtype),
                      React.createElement('td', { className: 'p-2' }, item.specificOption),
                      React.createElement('td', { className: 'p-2' }, item.brand),
                      React.createElement('td', { className: 'p-2' }, item.price)
                    )
                  )
                )
              ),
              React.createElement('button', {
                onClick: () => setShowCompare(false),
                className: 'mt-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 transform hover:scale-105',
                'data-i18n': 'close'
              }, 'Закрыть')
            )
          )
        )
      );
    };

    const App = () => {
      const [currentPage, setCurrentPage] = useState('welcome');

      useEffect(() => {
        document.querySelectorAll('[data-i18n]').forEach(elem => {
          elem.textContent = i18next.t(elem.getAttribute('data-i18n'));
        });
      }, [currentPage]);

      return (
        React.createElement(React.Fragment, null,
          React.createElement(Navbar, { setCurrentPage: setCurrentPage }),
          currentPage === 'welcome' && React.createElement(WelcomePage, { onNavigate: () => setCurrentPage('configurator') }),
          currentPage === 'configurator' && React.createElement(ConfiguratorPage, null)
        )
      );
    };

    ReactDOM.render(React.createElement(App, null), document.getElementById('root'));
  </script>
</body>
</html>